1:"$Sreact.fragment"
f:I[897367,["/_next/static/chunks/d96012bcfc98706a.js","/_next/static/chunks/d80b3790a119a285.js"],"OutletBoundary"]
10:"$Sreact.suspense"
:HL["/_next/static/chunks/b9ef641e76e3a351.css","style"]
0:{"buildId":"mw_8NOeE36EaX7Y8wJXXi","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"max-w-[1440px] w-full mx-auto px-6 py-12","children":[["$","header",null,{"className":"mb-8","children":[["$","h1",null,{"className":"text-4xl font-bold mb-2","children":"[Next.js] Jest, Testing Library 설정 (TypeScript)"}],["$","div",null,{"className":"text-sm text-zinc-500 dark:text-zinc-400","children":"2023-09-02"}]]}],["$","article",null,{"className":"prose","children":[["$","p","p-0",{"children":"이것 때문에 삽질을 좀 했었다."}],"\n",["$","p","p-1",{"children":"그냥 VanillaJS나 Vue.js, React에서 테스트 프레임워크를 추가할 때는"}],"\n",["$","p","p-2",{"children":"별 문제없이 잘 됐었는데,"}],"\n",["$","p","p-3",{"children":"유독 Next.js에서는 어떻게 해도 계속 에러가 났었다."}],"\n",["$","p","p-4",{"children":"하지만 오랜 삽질 끝에 테스트가 동작될 수 있도록 하는 걸 성공했고,"}],"\n",["$","p","p-5",{"children":"그 방법을 여기 적어보려 한다."}],"\n",["$","p","p-6",{"children":"우선 필요한 라이브러리를 설치한다."}],"\n",["$","p","p-7",{"children":["테스트는 개발용이기 때문에 ",["$","code","code-0",{"children":"-D"}],"나 ",["$","code","code-1",{"children":"--save-dev"}]," 옵션을 붙혀준다."]}],"\n",["$","pre","pre-0",{"children":["$","code","code-0",{"className":"hljs language-bash","children":"npm i -D jest @testing-library/jest-dom @testing-library/react @testing-library/user-event babel-jest\n"}]}],"\n",["$","p","p-8",{"children":["그리고 프로젝트 루트 폴더에 ",["$","code","code-0",{"children":"jest.config.js"}],", ",["$","code","code-1",{"children":"jest.setup.js"}],"라는"]}],"\n",["$","p","p-9",{"children":"두 개의 파일을 생성하여 다음과 같이 작성한다."}],"\n",["$","pre","pre-1",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-comment","children":"// jest.config.js"}],"\n\n",["$","span","span-1",{"className":"hljs-keyword","children":"const"}]," nextJest = ",["$","span","span-2",{"className":"hljs-built_in","children":"require"}],"(",["$","span","span-3",{"className":"hljs-string","children":"\"next/jest\""}],");\n\n",["$","span","span-4",{"className":"hljs-variable language_","children":"module"}],".",["$","span","span-5",{"className":"hljs-property","children":"exports"}]," = ",["$","span","span-6",{"className":"hljs-title function_","children":"nextJest"}],"()({\n    ",["$","span","span-7",{"className":"hljs-attr","children":"setupFilesAfterEnv"}],": [\n        ",["$","span","span-8",{"className":"hljs-string","children":"\"@testing-library/jest-dom/extend-expect\""}],",\n        ",["$","span","span-9",{"className":"hljs-string","children":"\"@testing-library/react\""}],"\n    ]\n});\n"]}]}],"\n",["$","pre","pre-2",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-comment","children":"// jest.setup.js"}],"\n\n",["$","span","span-1",{"className":"hljs-keyword","children":"import"}]," ",["$","span","span-2",{"className":"hljs-string","children":"\"@testing-library/jest-dom/extend-expect\""}],";\n"]}]}],"\n",["$","p","p-10",{"children":"이러고 나서 테스트 파일 하나를 작성해본다."}],"\n",["$","pre","pre-3",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-comment","children":"// index.test.tsx"}],"\n\n",["$","span","span-1",{"className":"hljs-title function_","children":"describe"}],"(",["$","span","span-2",{"className":"hljs-string","children":"\"Test\""}],", ",["$","span","span-3",{"className":"hljs-function","children":"() =>"}]," {\n    ",["$","span","span-4",{"className":"hljs-title function_","children":"it"}],"(",["$","span","span-5",{"className":"hljs-string","children":"\"Foo\""}],", ",["$","span","span-6",{"className":"hljs-function","children":"() =>"}]," {\n        ",["$","span","span-7",{"className":"hljs-title function_","children":"expect"}],"(",["$","span","span-8",{"className":"hljs-number","children":"0"}],").",["$","span","span-9",{"className":"hljs-title function_","children":"toBe"}],"(",["$","span","span-10",{"className":"hljs-number","children":"0"}],");\n    });\n});\n\n",["$","span","span-11",{"className":"hljs-comment","children":"// TypeScript에서는 export {} 를 안하면 이상한 에러가 떠서 적었다."}],"\n",["$","span","span-12",{"className":"hljs-keyword","children":"export"}]," {};\n"]}]}],"\n",["$","p","p-11",{"children":"이제 테스트를 해본다."}],"\n",["$","pre","pre-4",{"children":["$","code","code-0",{"className":"hljs language-shell","children":[["$","span","span-0",{"className":"hljs-meta prompt_","children":"$$ "}],"$L2","\n\"next/jest\" is currently experimental. https://nextjs.org/docs/messages/experimental-jest-transformer\n PASS  pages/index.test.tsx\n  Test\n    √ Foo (2 ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        0.894 s, estimated 1 s\nRan all test suites.\n"]}]}],"\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc"]}]]}],["$Ld"],"$Le"]}],"loading":null,"isPartial":false}
2:["$","span","span-1",{"className":"bash","children":"jest"}]
3:["$","p","p-12",{"children":[["$","code","code-0",{"children":"\"next/jest\" is currently experimental."}]," ",["$","a","a-0",{"href":"https://nextjs.org/docs/messages/experimental-jest-transformer","children":["$","code","code-0",{"children":"https://nextjs.org/docs/messages/experimental-jest-transformer"}]}]]}]
4:["$","p","p-13",{"children":"라는 에러..는 아니고 경고 메시지가 뜰 텐데,"}]
5:["$","p","p-14",{"children":["에러가 아닌 ",["$","strong","strong-0",{"children":"경고는 가볍게 무시하면 된다."}]]}]
6:["$","p","p-15",{"children":"굳이 저 경고 메시지에 대해 잠깐 언급하자면,"}]
7:["$","p","p-16",{"children":"next/jest라는 모듈이 현재 베타 버전이고, 후에 안정적인 버전이 나올꺼라는 얘기다."}]
8:["$","p","p-17",{"children":["그렇다. ",["$","strong","strong-0",{"children":"역시 경고는 가볍게 무시하면 된다."}]]}]
9:["$","p","p-18",{"children":"어쨌든, 위와 같이 PASS나 FAIL이 뜨면 테스트 성공 여부가 나왔다는 것이니"}]
a:["$","p","p-19",{"children":"테스트가 동작된다는 것이다."}]
b:["$","p","p-20",{"children":"참고하자고."}]
c:["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":["2023.02.26 추가) ",["$","code","code-0",{"children":"next/jest"}]," 모듈이 정식으로 나와서 위 경고는 이제 안나온다."]}],"\n"]}]
d:["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/b9ef641e76e3a351.css","precedence":"next"}]
e:["$","$Lf",null,{"children":["$","$10",null,{"name":"Next.MetadataOutlet","children":"$@11"}]}]
11:null
