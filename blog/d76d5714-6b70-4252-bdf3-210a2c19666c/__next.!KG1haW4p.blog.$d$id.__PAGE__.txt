1:"$Sreact.fragment"
24:I[897367,["/_next/static/chunks/d96012bcfc98706a.js","/_next/static/chunks/d80b3790a119a285.js"],"OutletBoundary"]
25:"$Sreact.suspense"
:HL["/_next/static/chunks/b9ef641e76e3a351.css","style"]
0:{"buildId":"mw_8NOeE36EaX7Y8wJXXi","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"max-w-[1440px] w-full mx-auto px-6 py-12","children":[["$","header",null,{"className":"mb-8","children":[["$","h1",null,{"className":"text-4xl font-bold mb-2","children":"[JavaScript] 호이스팅 제대로 짚고 넘어가기"}],["$","div",null,{"className":"text-sm text-zinc-500 dark:text-zinc-400","children":"2023-09-02"}]]}],["$","article",null,{"className":"prose","children":[["$","p","p-0",{"children":"예전에 자바스크립트를 처음 공부할 때는 호이스팅이라는 개념이 이해가 안갔던 게"}],"\n",["$","p","p-1",{"children":"회사에서 1년간 실무를 하면서 그 개념을 제대로 깨닫게 되었고,"}],"\n",["$","p","p-2",{"children":"모르는 분들을 위해서, 그리고 훗날 이 글을 볼 나 자신을 위해서라도"}],"\n",["$","p","p-3",{"children":"정리를 해보려 한다."}],"\n",["$","p","p-4",{"children":["호이스팅이란, 코드 실행 전에 변수 선언이 최상단 라인으로 끌어올려지는 것 ",["$","strong","strong-0",{"children":"같은 현상"}],"을 말한다."]}],"\n",["$","p","p-5",{"children":"ㄹㅇ로다가 끌어올려지는 게 아니다."}],"\n",["$","p","p-6",{"children":["그리고 끌어올려지는 범위는 현재 속한 ",["$","strong","strong-0",{"children":"함수 스코프"}],"의 최상단이다."]}],"\n",["$","p","p-7",{"children":"내가 아는 호이스팅이 되는 경우들을 모아보면 다음과 같다."}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":["변수를 ",["$","code","code-0",{"children":"var"}],"로 선언한 경우 호이스팅 됨"]}],"\n",["$","li","li-1",{"children":"함수 선언식으로 선언한 경우 호이스팅 됨"}],"\n",["$","li","li-2",{"children":"함수 표현식으로 선언한 경우 호이스팅 안됨"}],"\n"]}],"\n",["$","p","p-8",{"children":["사실 이 글을 쓰면서 이게 진짜 맞나? 싶어 다시 찾아봤는데.... ",["$","code","code-0",{"children":"let"}],"과 ",["$","code","code-1",{"children":"const"}],", ",["$","code","code-2",{"children":"class"}]," 선언문도 모두 호이스팅 된다. (오늘 첨알음)"]}],"\n",["$","p","p-9",{"children":"호이스팅이 일어나는 이유는 선언문이 다른 코드보다 메모리에 먼저 할당되기 때문인데,"}],"\n",["$","p","p-10",{"children":[["$","code","code-0",{"children":"var"}],"로 선언된 변수는 선언과 동시에 ",["$","code","code-1",{"children":"undefined"}],"로 초기화되어 메모리에 할당되지만,"]}],"\n",["$","p","p-11",{"children":[["$","code","code-0",{"children":"let"}],", ",["$","code","code-1",{"children":"const"}]," 등으로 선언된 변수는 초깃값을 가지지 않고 메모리에 할당된다."]}],"\n",["$","p","p-12",{"children":"다음을 한번 보자고."}],"\n",["$","pre","pre-0",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-title function_","children":"foo"}],"();\n\n",["$","span","span-1",{"className":"hljs-keyword","children":"function"}]," ",["$","span","span-2",{"className":"hljs-title function_","children":"foo"}],"(",["$","span","span-3",{"className":"hljs-params"}],") {\n    ",["$","span","span-4",{"className":"hljs-variable language_","children":"console"}],".",["$","span","span-5",{"className":"hljs-title function_","children":"log"}],"(bar);\n    ",["$","span","span-6",{"className":"hljs-keyword","children":"var"}]," bar = ",["$","span","span-7",{"className":"hljs-number","children":"3"}],";\n    \n    ",["$","span","span-8",{"className":"hljs-variable language_","children":"console"}],".",["$","span","span-9",{"className":"hljs-title function_","children":"log"}],"(koo);\n    ",["$","span","span-10",{"className":"hljs-keyword","children":"let"}]," koo = ",["$","span","span-11",{"className":"hljs-number","children":"2"}],";\n}\n"]}]}],"\n",["$","p","p-13",{"children":["일단 이 코드의 실행 결과부터 말하자면, ",["$","code","code-0",{"children":"koo"}]," 변수 참조 에러가 난다."]}],"\n",["$","p","p-14",{"children":["그런데 그 이유가 변수 ",["$","code","code-0",{"children":"koo"}],"가 호이스팅되지 않아서가 아니다."]}],"\n",["$","p","p-15",{"children":["$","strong","strong-0",{"children":"호이스팅 되었지만, var 변수처럼 초깃값을 가지지 않기 때문에 마치 메모리에 변수가 아직 없는 것처럼 보이는 것이다."}]}],"\n",["$","p","p-16",{"children":["함수 ",["$","code","code-0",{"children":"foo"}],"는 ",["$","code","code-1",{"children":"function"}]," 키워드로 선언되었으니 호이스팅 되었다."]}],"\n",["$","p","p-17",{"children":["함수 ",["$","code","code-0",{"children":"foo"}]," 내에 있는 변수 ",["$","code","code-1",{"children":"bar"}],"는 ",["$","code","code-2",{"children":"var"}],"로 선언되었고, 선언과 동시에 ",["$","code","code-3",{"children":"undefined"}],"라는 value를 가지므로 에러가 나지 않는다."]}],"\n",["$","p","p-18",{"children":"즉, 자바스크립트 엔진이 위 코드를 해석하면 다음의 흐름과 같이 인식하게 된다."}],"\n",["$","pre","pre-1",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-keyword","children":"function"}]," ",["$","span","span-1",{"className":"hljs-title function_","children":"foo"}],"(",["$","span","span-2",{"className":"hljs-params"}],") {\n    ",["$","span","span-3",{"className":"hljs-keyword","children":"var"}]," bar;             ","$L2","\n    ","$L3"," koo;             ","$L4","\n    \n    ","$L5",".","$L6","(bar);    ","$L7","\n    bar = ","$L8",";\n    \n    ","$L9",".","$La","(koo);    ","$Lb","\n    koo = ","$Lc",";\n}\n\n","$Ld","();\n"]}]}],"\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21"]}]]}],["$L22"],"$L23"]}],"loading":null,"isPartial":false}
2:["$","span","span-4",{"className":"hljs-comment","children":"// 선언과 동시에 undefined로 초기화"}]
3:["$","span","span-5",{"className":"hljs-keyword","children":"let"}]
4:["$","span","span-6",{"className":"hljs-comment","children":"// 선언과 동시에 아무런 값도 가지지 않음"}]
5:["$","span","span-7",{"className":"hljs-variable language_","children":"console"}]
6:["$","span","span-8",{"className":"hljs-title function_","children":"log"}]
7:["$","span","span-9",{"className":"hljs-comment","children":"// undefined"}]
8:["$","span","span-10",{"className":"hljs-number","children":"3"}]
9:["$","span","span-11",{"className":"hljs-variable language_","children":"console"}]
a:["$","span","span-12",{"className":"hljs-title function_","children":"log"}]
b:["$","span","span-13",{"className":"hljs-comment","children":"// Uncaught ReferenceError: koo is not defined"}]
c:["$","span","span-14",{"className":"hljs-number","children":"2"}]
d:["$","span","span-15",{"className":"hljs-title function_","children":"foo"}]
e:["$","p","p-19",{"children":"다른 경우를 한번 더 볼까?"}]
f:["$","p","p-20",{"children":["다음은 KST 시간과 UTC 시간을 1초마다 구하는 코드다. (호이스팅 설명을 위해 만든 코드다. ",["$","del","del-0",{"children":"평소에는 이렇게 안함. 오해 X"}],")"]}]
10:["$","pre","pre-2",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-built_in","children":"setInterval"}],"(kstTime, ",["$","span","span-1",{"className":"hljs-number","children":"1000"}],");\n",["$","span","span-2",{"className":"hljs-built_in","children":"setInterval"}],"(utcTime, ",["$","span","span-3",{"className":"hljs-number","children":"1000"}],");\n\n",["$","span","span-4",{"className":"hljs-keyword","children":"var"}]," utcTime = ",["$","span","span-5",{"className":"hljs-keyword","children":"function"}]," (",["$","span","span-6",{"className":"hljs-params"}],") {\n    ",["$","span","span-7",{"className":"hljs-keyword","children":"for"}]," (",["$","span","span-8",{"className":"hljs-keyword","children":"var"}]," time = ",["$","span","span-9",{"className":"hljs-title function_","children":"kstTime"}],"(), i = ",["$","span","span-10",{"className":"hljs-number","children":"0"}],"; i < ",["$","span","span-11",{"className":"hljs-number","children":"9"}],"; time = time.",["$","span","span-12",{"className":"hljs-title function_","children":"subtract"}],"(",["$","span","span-13",{"className":"hljs-number","children":"1"}],", ",["$","span","span-14",{"className":"hljs-string","children":"\"hours\""}],"));\n    ",["$","span","span-15",{"className":"hljs-keyword","children":"return"}]," time;\n};\n\n",["$","span","span-16",{"className":"hljs-keyword","children":"function"}]," ",["$","span","span-17",{"className":"hljs-title function_","children":"kstTime"}],"(",["$","span","span-18",{"className":"hljs-params"}],") {\n    ",["$","span","span-19",{"className":"hljs-keyword","children":"var"}]," kst = ",["$","span","span-20",{"className":"hljs-title function_","children":"dayjs"}],"();\n    ",["$","span","span-21",{"className":"hljs-keyword","children":"return"}]," kst;\n}\n"]}]}]
11:["$","p","p-21",{"children":"이 코드의 실행 결과는 어떨까? 답은 두 번째 라인에서 참조 에러가 난다."}]
12:["$","p","p-22",{"children":["이유는 함수 ",["$","code","code-0",{"children":"utcTime"}],"가 함수 표현식으로 선언되었기 때문이다."]}]
13:["$","p","p-23",{"children":"위 코드를 해석하게 되면 다음과 같이 인식한다."}]
14:["$","pre","pre-3",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-keyword","children":"var"}]," utcTime;\n\n",["$","span","span-1",{"className":"hljs-keyword","children":"function"}]," ",["$","span","span-2",{"className":"hljs-title function_","children":"kstTime"}],"(",["$","span","span-3",{"className":"hljs-params"}],") {\n    ",["$","span","span-4",{"className":"hljs-keyword","children":"var"}]," kst;\n    kst = ",["$","span","span-5",{"className":"hljs-title function_","children":"dayjs"}],"();\n    ",["$","span","span-6",{"className":"hljs-keyword","children":"return"}]," kst;\n}\n\n",["$","span","span-7",{"className":"hljs-built_in","children":"setInterval"}],"(kstTime, ",["$","span","span-8",{"className":"hljs-number","children":"1000"}],");\n",["$","span","span-9",{"className":"hljs-built_in","children":"setInterval"}],"(utcTime, ",["$","span","span-10",{"className":"hljs-number","children":"1000"}],");\n\nutcTime = ",["$","span","span-11",{"className":"hljs-keyword","children":"function"}]," (",["$","span","span-12",{"className":"hljs-params"}],") {\n    ",["$","span","span-13",{"className":"hljs-keyword","children":"var"}]," time;\n    ",["$","span","span-14",{"className":"hljs-keyword","children":"var"}]," i;\n    ",["$","span","span-15",{"className":"hljs-keyword","children":"for"}]," (time = ",["$","span","span-16",{"className":"hljs-title function_","children":"kstTime"}],"(), i = ",["$","span","span-17",{"className":"hljs-number","children":"0"}],"; i < ",["$","span","span-18",{"className":"hljs-number","children":"9"}],"; time = time.",["$","span","span-19",{"className":"hljs-title function_","children":"subtract"}],"(",["$","span","span-20",{"className":"hljs-number","children":"1"}],", ",["$","span","span-21",{"className":"hljs-string","children":"\"hours\""}],"));\n    ",["$","span","span-22",{"className":"hljs-keyword","children":"return"}]," time;\n};\n"]}]}]
15:["$","p","p-24",{"children":["함수 ",["$","code","code-0",{"children":"utcTime"}],"은 함수 표현식에서 선언문 부분만 호이스팅되었고, 함수 ",["$","code","code-1",{"children":"kstTime"}],"은 선언식으로 선언되어 통째로 호이스팅되었다."]}]
16:["$","p","p-25",{"children":["함수 표현식으로 된 ",["$","code","code-0",{"children":"utcTime"}]," 안의 내용도 좀 더 살펴보면,"]}]
17:["$","p","p-26",{"children":["반복문에서 선언된 ",["$","code","code-0",{"children":"time"}],"과 ",["$","code","code-1",{"children":"i"}],"라는 변수도 해당 함수 스코프내에서 호이스팅된다."]}]
18:["$","p","p-27",{"children":[["$","code","code-0",{"children":"let"}],"으로 선언했다면 당연히 에러가 났을꺼다."]}]
19:["$","p","p-28",{"children":"그 때 에러가 나는 이유는 해당 변수가 속한 반복문의 스코프를 벗어나서가 아닌,"}]
1a:["$","p","p-29",{"children":"초기화되지 않은 변수 참조 때문에 에러가 나는 것이다."}]
1b:["$","p","p-30",{"children":["다음을 보면 그것을 명확히 알 수 있다. (출처: ",["$","a","a-0",{"href":"https://hanamon.kr/javascript-%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85%EC%9D%B4%EB%9E%80-hoisting/","children":"https://hanamon.kr/javascript-%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85%EC%9D%B4%EB%9E%80-hoisting/"}],")"]}]
1c:["$","pre","pre-4",{"children":["$","code","code-0",{"className":"hljs language-javascript","children":[["$","span","span-0",{"className":"hljs-keyword","children":"let"}]," value = ",["$","span","span-1",{"className":"hljs-number","children":"2"}],";\n{\n    ",["$","span","span-2",{"className":"hljs-variable language_","children":"console"}],".",["$","span","span-3",{"className":"hljs-title function_","children":"log"}],"(value);\n    ",["$","span","span-4",{"className":"hljs-keyword","children":"let"}]," value = ",["$","span","span-5",{"className":"hljs-number","children":"7"}],";\n}\n"]}]}]
1d:["$","p","p-31",{"children":"위 코드의 블록 스코프에 있는 변수 value가 만약 호이스팅되지 않는다면"}]
1e:["$","p","p-32",{"children":["첫 번째 라인의 변수 value를 참조하여 문제없이 ",["$","code","code-0",{"children":"2"}],"라는 값이 잘 출력될 것이다."]}]
1f:["$","p","p-33",{"children":["4번째 라인의 ",["$","code","code-0",{"children":"7"}],"로 초기화되는 변수 value가 블록 스코프 내에서 호이스팅되었고,"]}]
20:["$","p","p-34",{"children":["호이스팅 된 value를 참조하려는데 ",["$","code","code-0",{"children":"let"}],"으로 선언되어 초기화되지 않았기 때문에 에러가 난다."]}]
21:["$","p","p-35",{"children":[["$","code","code-0",{"children":"var"}],", ",["$","code","code-1",{"children":"let"}],", ",["$","code","code-2",{"children":"const"}],"에 대해서는 다음 장에서 더 자세히 다루도록 하겠다."]}]
22:["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/b9ef641e76e3a351.css","precedence":"next"}]
23:["$","$L24",null,{"children":["$","$25",null,{"name":"Next.MetadataOutlet","children":"$@26"}]}]
26:null
