1:"$Sreact.fragment"
2:I[897367,["/_next/static/chunks/d96012bcfc98706a.js","/_next/static/chunks/d80b3790a119a285.js"],"OutletBoundary"]
3:"$Sreact.suspense"
:HL["/_next/static/chunks/b9ef641e76e3a351.css","style"]
0:{"buildId":"mw_8NOeE36EaX7Y8wJXXi","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"max-w-[1440px] w-full mx-auto px-6 py-12","children":[["$","header",null,{"className":"mb-8","children":[["$","h1",null,{"className":"text-4xl font-bold mb-2","children":"[Docker] 설치 디렉토리 옮기기"}],["$","div",null,{"className":"text-sm text-zinc-500 dark:text-zinc-400","children":"2023-09-02"}]]}],["$","article",null,{"className":"prose","children":[["$","p","p-0",{"children":["필요한 도커 이미지가 있어서 ",["$","code","code-0",{"children":"docker pull"}]," 명령어로 받고 있는데,"]}],"\n",["$","p","p-1",{"children":["갑자기 **",["$","code","code-0",{"children":"'no left space on device'"}],"**라는 거지같은 에러가 떴다."]}],"\n",["$","p","p-2",{"children":["이게 머선 129 해서 ",["$","code","code-0",{"children":"df -h"}]," 커맨드로 봤더니"]}],"\n",["$","p","p-3",{"children":"파일시스템의 root 쪽이 100%로 꽉 차있었다...."}],"\n",["$","p","p-4",{"children":"도커 설치할 때 root로 깔았으니 아마 도커의 영향이 제일 크지 않나 싶어서"}],"\n",["$","p","p-5",{"children":["도커가 설치된 디렉토리에 있는 것들을 전부 ",["$","code","code-0",{"children":"/home"}],"으로 옮겼고,"]}],"\n",["$","p","p-6",{"children":"100%에서 80%로 떨어뜨리는데 성공했다. (그래도 뭐가 많이 있네)"}],"\n",["$","p","p-7",{"children":"나중에 또 이런 일이 있을 수 있어"}],"\n",["$","p","p-8",{"children":"도커의 Data directory를 옮기는 방법을"}],"\n",["$","p","p-9",{"children":"여기다 적어보려 한다."}],"\n",["$","p","p-10",{"children":["우선, 설치 시 기본적으로 ",["$","code","code-0",{"children":"/var/lib/docker"}]," 경로에 있다."]}],"\n",["$","p","p-11",{"children":["나는 ",["$","code","code-0",{"children":"/home"}]," 경로에 ",["$","code","code-1",{"children":"dockeradmin"}],"이라는 디렉토리를 만들고"]}],"\n",["$","p","p-12",{"children":["거기다가 ",["$","code","code-0",{"children":"/var/lib/docker"}]," 에 있던 거를 싹 다 옮겼다."]}],"\n",["$","p","p-13",{"children":"그냥 옮기면 안된다. 먼저 수정할 파일들이 있으니 다음의 흐름대로 가보자고."}],"\n",["$","ol","ol-0",{"children":["\n",["$","li","li-0",{"children":["\n",["$","p","p-0",{"children":[["$","code","code-0",{"children":"/etc/docker/daemon.json"}]," 수정"]}],"\n",["$","p","p-1",{"children":["해당 파일을 ",["$","code","code-0",{"children":"vi"}],"로 열어 아래와 같이 추가한다."]}],"\n",["$","pre","pre-0",{"children":["$","code","code-0",{"className":"hljs language-json","children":[["$","span","span-0",{"className":"hljs-punctuation","children":"{"}],"\n  ",["$","span","span-1",{"className":"hljs-attr","children":"\"graph\""}],["$","span","span-2",{"className":"hljs-punctuation","children":":"}]," ",["$","span","span-3",{"className":"hljs-string","children":"\"[옮길 디렉토리 경로]\""}],"\n",["$","span","span-4",{"className":"hljs-punctuation","children":"}"}],"\n"]}]}],"\n"]}],"\n",["$","li","li-1",{"children":["\n",["$","p","p-0",{"children":"기존 Data directory에서 옮길 디렉토리로 싹 다 복사"}],"\n",["$","pre","pre-0",{"children":["$","code","code-0",{"className":"hljs language-bash","children":[["$","span","span-0",{"className":"hljs-built_in","children":"cp"}]," -rf /var/lib/docker/* /home/dockeradmin\n"]}]}],"\n"]}],"\n",["$","li","li-2",{"children":["\n",["$","p","p-0",{"children":"도커 서비스 재시작"}],"\n",["$","pre","pre-0",{"children":["$","code","code-0",{"className":"hljs language-bash","children":"systemctl stop docker\nsystemctl daemon-reload\nsystemctl start docker\n"}]}],"\n"]}],"\n",["$","li","li-3",{"children":["\n",["$","p","p-0",{"children":"이미지 및 컨테이너 목록 조회 확인 후 컨테이너 실행"}],"\n",["$","pre","pre-0",{"children":["$","code","code-0",{"className":"hljs language-bash","children":["docker images && docker ps -a          ",["$","span","span-0",{"className":"hljs-comment","children":"# 이미지 및 컨테이너 목록 확인"}],"\ndocker start [컨테이너1] [컨테이너2] ...   ",["$","span","span-1",{"className":"hljs-comment","children":"# 컨테이너 실행"}],"\n"]}]}],"\n"]}],"\n"]}],"\n",["$","p","p-14",{"children":"혹시라도 더 용량이 신경 쓰인다면 다음 커맨드를 실행하여"}],"\n",["$","p","p-15",{"children":"불필요한 이미지들을 싹 정리하자."}],"\n",["$","pre","pre-0",{"children":["$","code","code-0",{"className":"hljs language-bash","children":"docker system prune -a\n"}]}]]}]]}],[["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/b9ef641e76e3a351.css","precedence":"next"}]],["$","$L2",null,{"children":["$","$3",null,{"name":"Next.MetadataOutlet","children":"$@4"}]}]]}],"loading":null,"isPartial":false}
4:null
