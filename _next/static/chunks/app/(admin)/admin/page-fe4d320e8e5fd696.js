(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{62258:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateInfoInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updated"},name:{kind:"Name",value:"Resume_updateInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"github"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:120}};n.loc.source={body:"mutation UpdateInfo($input: UpdateInfoInput!) {\n  updated: Resume_updateInfo(input: $input) {\n    title\n    github\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function t(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}n.definitions.forEach(function(e){if(e.name){var n=new Set;(function e(n,i){if("FragmentSpread"===n.kind)i.add(n.name.value);else if("VariableDefinition"===n.kind){var t=n.type;"NamedType"===t.kind&&i.add(t.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,i)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,i)}),n.definitions&&n.definitions.forEach(function(n){e(n,i)})})(e,n),i[e.name.value]=n}}),e.exports=n,e.exports.UpdateInfo=function(e,n){var a={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var r=i[n]||new Set,d=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var l=s;s=new Set,l.forEach(function(e){d.has(e)||(d.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return d.forEach(function(n){var i=t(e,n);i&&a.definitions.push(i)}),a}(n,"UpdateInfo")},48845:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Resume"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"resume"},name:{kind:"Name",value:"Resume_get"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"github"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"history"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"companyId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"companyName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"src"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"website"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"careers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"groupName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"list"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"completed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"techList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:436}};n.loc.source={body:"query Resume {\n  resume: Resume_get {\n    title\n    github\n    history {\n      companyId\n      companyName\n      logo {\n        src\n        alt\n        width\n        height\n      }\n      startDate\n      endDate\n      website\n      description\n      careers {\n        groupName\n        list {\n          name\n          completed\n          startDate\n          endDate\n          techList\n          description\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function t(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}n.definitions.forEach(function(e){if(e.name){var n=new Set;(function e(n,i){if("FragmentSpread"===n.kind)i.add(n.name.value);else if("VariableDefinition"===n.kind){var t=n.type;"NamedType"===t.kind&&i.add(t.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,i)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,i)}),n.definitions&&n.definitions.forEach(function(n){e(n,i)})})(e,n),i[e.name.value]=n}}),e.exports=n,e.exports.Resume=function(e,n){var a={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var r=i[n]||new Set,d=new Set,s=new Set;for(r.forEach(function(e){s.add(e)});s.size>0;){var l=s;s=new Set,l.forEach(function(e){d.has(e)||(d.add(e),(i[e]||new Set).forEach(function(e){s.add(e)}))})}return d.forEach(function(n){var i=t(e,n);i&&a.definitions.push(i)}),a}(n,"Resume")},60005:function(e,n,i){Promise.resolve().then(i.bind(i,11776))},11776:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return R}});var t=i(50209),a=i(15017),r=i(55185),d=i(78970),s=i(97821),l=i(66572),o=i(2541),u=i(40156),c=i.n(u),m=i(68886),f=i(73409),v=i(48845),h=i.n(v),k=i(91522),p=i(11702),g=i(41219),x=i(96953),b=i(62878),D=i(14487),N=i(65736),S=i(88235),j=i(57706),y=i(44263),F=i.n(y),w=i(38301);function Z(e){let{companyId:n,companyName:i,startDate:d,endDate:s,website:l,description:o,children:u}=e,m=(0,g.Z)(),f=(0,x.Z)(m.breakpoints.down("sm")),{control:v,watch:h,setValue:k,handleSubmit:y}=(0,p.cI)({mode:"onChange",defaultValues:{companyName:"",isWorking:!1,startDate:c()(),endDate:c()(),website:"",description:""}}),{field:{value:Z}}=(0,p.bc)({name:"isWorking",control:v}),P=(0,a.useCallback)(e=>{console.log({...F()(e,"isWorking"),companyId:n,startDate:e.startDate.format("YYYY-MM-DD"),endDate:e.endDate?e.endDate.format("YYYY-MM-DD"):null})},[n]);return(0,a.useEffect)(()=>{k("companyName",i),k("isWorking",!s),k("startDate",d),k("endDate",s),k("website",l||""),k("description",o||"")},[k,h,i,d,s,l,o]),(0,a.useEffect)(()=>{h("isWorking");let e=h((e,n)=>{let{name:i}=n;"isWorking"===i&&k("endDate",e[i]?void 0:e.endDate)});return()=>{e.unsubscribe()}},[k,h]),(0,t.jsxs)(r.ZP,{container:!0,flexDirection:"column",gap:1,children:[(0,t.jsxs)("form",{onSubmit:y(P),children:[(0,t.jsx)(w.xJ,{label:"회사명",children:(0,t.jsx)(p.Qr,{control:v,name:"companyName",rules:{required:{value:!0,message:"회사명은 필수입니다."}},render:e=>{let{field:n}=e;return(0,t.jsx)(E,{variant:"standard",placeholder:"회사명을 입력해주세요.",...n})}})}),(0,t.jsxs)(w.xJ,{label:"재직기간",children:[(0,t.jsxs)(r.ZP,{container:!0,flexDirection:"row",alignItems:"center",width:"fit-content",children:[(0,t.jsx)(b.Z,{fontSize:14,letterSpacing:-.3,children:"재직 중"}),(0,t.jsx)(p.Qr,{control:v,name:"isWorking",rules:{required:!1},render:e=>{let{field:{value:n,onChange:i}}=e;return(0,t.jsx)(D.Z,{checked:n,onChange:i})}})]}),(0,t.jsx)(p.Qr,{control:v,name:"startDate",rules:{required:{value:!0,message:"입사일을 입력해주세요."}},render:e=>{let{field:{value:n,onChange:i}}=e;return(0,t.jsx)(j.M,{format:"YYYY.MM.DD",value:n,onChange:i})}}),!Z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Z,{children:"~"}),(0,t.jsx)(p.Qr,{control:v,name:"endDate",rules:{required:{value:!0,message:"퇴사일을 입력해주세요."}},render:e=>{let{field:{value:n,onChange:i},fieldState:{error:a}}=e;return(0,t.jsx)(j.M,{format:"YYYY.MM.DD",value:n,onChange:i,slotProps:{textField:{helperText:null==a?void 0:a.message}}})}})]})]}),(0,t.jsx)(w.xJ,{label:"회사 홈페이지 URL",children:(0,t.jsx)(p.Qr,{control:v,name:"website",render:e=>{let{field:n}=e;return(0,t.jsx)(I,{variant:"standard",placeholder:"회사 홈페이지 URL을 입력해주세요. (선택사항)",fullWidth:f,...n})}})}),(0,t.jsx)(w.xJ,{label:"설명",children:(0,t.jsx)(p.Qr,{control:v,name:"description",render:e=>{let{field:n}=e;return(0,t.jsx)(N.Z,{...n,placeholder:"회사에 대한 간단한 소개를 적어주세요.",multiline:!0,fullWidth:!0,minRows:4})}})}),(0,t.jsx)(r.ZP,{container:!0,justifyContent:"flex-end",paddingTop:2,children:(0,t.jsx)(S.Z,{variant:"outlined",type:"submit",children:"Submit"})})]}),u]})}let E=(0,s.ZP)(N.Z)({maxWidth:400,width:"100%"}),I=(0,s.ZP)(N.Z)(e=>{let{fullWidth:n}=e;return{flex:n?void 0:1}});var P=i(70044),q=i(26423),Y=i(62258),C=i.n(Y),W=i(76465);function M(e){let{title:n,github:i}=e,d=(0,W.F)(e=>e.authorization),s=(0,k.q)(e=>e.setLoading),{openAlert:l}=(0,q.useAlert)(),{mutate:o,isPending:u}=(0,P.D)({mutationKey:["updateInfo"],mutationFn:e=>(0,f.ZP)("https://jayur830-github-io-server-nestjs.fly.dev/api/graphql",C(),e,{authorization:d}),onSuccess(){l({open:!0,autoHideDuration:7e3,message:"이력서 기본 정보가 수정되었습니다."})},onError(e){l({open:!0,autoHideDuration:7e3,message:e.message})}}),{control:c,setValue:m,handleSubmit:v}=(0,p.cI)({mode:"onChange",defaultValues:{title:"",github:""}}),h=(0,a.useCallback)(e=>{o({input:e})},[o]);return(0,a.useEffect)(()=>{m("title",n),m("github",i)},[m,n,i]),(0,a.useEffect)(()=>{s(u)},[s,u]),(0,t.jsxs)("form",{onSubmit:v(h),children:[(0,t.jsx)(w.xJ,{label:"제목",children:(0,t.jsx)(p.Qr,{control:c,name:"title",rules:{required:{value:!0,message:"제목은 필수입니다."}},render:e=>{let{field:n}=e;return(0,t.jsx)(N.Z,{variant:"standard",placeholder:"제목을 입력하세요.",fullWidth:!0,...n})}})}),(0,t.jsx)(w.xJ,{label:"Github",children:(0,t.jsx)(p.Qr,{control:c,name:"github",rules:{required:{value:!0,message:"Github 주소는 필수입니다."}},render:e=>{let{field:n}=e;return(0,t.jsx)(O,{variant:"standard",placeholder:"본인의 Github 주소를 입력하세요.",...n})}})}),(0,t.jsx)(r.ZP,{container:!0,justifyContent:"flex-end",paddingTop:2,children:(0,t.jsx)(S.Z,{variant:"outlined",type:"submit",children:"Submit"})})]})}let O=(0,s.ZP)(N.Z)({maxWidth:600,width:"100%"});function R(){let e=(0,k.q)(e=>e.setLoading),{data:n,isLoading:i}=(0,m.a)({queryKey:["resume"],queryFn:()=>(0,f.ZP)("https://jayur830-github-io-server-nestjs.fly.dev/api/graphql",h())}),s=(0,a.useMemo)(()=>n?n.resume:null,[n]);return(0,a.useEffect)(()=>{e(i)},[e,i]),(0,t.jsxs)(r.ZP,{container:!0,flexDirection:"column",gap:4,maxWidth:1e3,children:[(0,t.jsx)(Q,{children:(0,t.jsx)(M,{title:s.title,github:s.github||""})}),(0,t.jsx)(d.Z,{}),((null==s?void 0:s.history)||[]).map((e,n)=>(0,t.jsx)(Q,{children:(0,t.jsx)(Z,{companyId:e.companyId,companyName:e.companyName,startDate:c()(e.startDate),endDate:e.endDate?c()(e.endDate):void 0,website:e.website,description:e.description,children:(0,t.jsx)(Q,{children:"abc"})})},n))]})}let Q=(0,s.ZP)(l.Z)({boxShadow:"0 0 10px 3px ".concat(o.Z["300"]),padding:20,transition:"background-color 0.3s ease"})},26423:function(e,n,i){"use strict";i.r(n),i.d(n,{useAlert:function(){return v}});var t=i(50209),a=i(15017),r=i(25372),d=i(65289),s=i(98565),l=i(73957),o=i(35299),u=i.n(o),c=i(76459);let{Provider:m,useContext:f}=(0,r.createProvider)(function(){var e,n,i,r;let[l,o]=(0,a.useState)(null),u=(0,a.useCallback)(e=>{o(e)},[]),c=(0,a.useCallback)((e,n)=>{"clickaway"!==n&&o(e=>({...e,open:!1}))},[]);return{snackbarProps:{...l,anchorOrigin:{vertical:null!==(i=null==l?void 0:null===(e=l.anchorOrigin)||void 0===e?void 0:e.vertical)&&void 0!==i?i:"top",horizontal:null!==(r=null==l?void 0:null===(n=l.anchorOrigin)||void 0===n?void 0:n.horizontal)&&void 0!==r?r:"center"},action:(0,t.jsxs)(t.Fragment,{children:[null==l?void 0:l.action,(0,t.jsx)(s.Z,{color:"inherit",onClick:c,children:(0,t.jsx)(d.Z,{})})]}),onClose:c},openAlert:u}});function v(){return u()(f(),"openAlert")}n.default=(0,c.b)(m,function(e){let{children:n}=e,i=f("snackbarProps");return(0,t.jsxs)(t.Fragment,{children:[n,(0,t.jsx)(l.Z,{...i})]})})},76465:function(e,n,i){"use strict";i.d(n,{F:function(){return a}});var t=i(76459);let a=(0,t.e)(e=>({authorization:null,setAuthorization(n){e(()=>({authorization:"Bearer ".concat(n)}))}}))}},function(e){e.O(0,[220,140,894,308,654,460,72,79,224,607,301,913,437,744],function(){return e(e.s=60005)}),_N_E=e.O()}]);