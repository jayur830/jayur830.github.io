(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[650],{85728:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCompany"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateCompanyInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updated"},name:{kind:"Name",value:"Resume_updateCompanyInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"companyId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"companyName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"src"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"website"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:271}};n.loc.source={body:"mutation UpdateCompany($input: UpdateCompanyInput!) {\n  updated: Resume_updateCompanyInfo(input: $input) {\n    companyId\n    companyName\n    logo {\n      logoId\n      src\n      alt\n      width\n      height\n    }\n    startDate\n    endDate\n    website\n    description\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function findOperation(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}n.definitions.forEach(function(e){if(e.name){var n=new Set;(function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){collectFragmentReferences(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){collectFragmentReferences(e,n)}),e.definitions&&e.definitions.forEach(function(e){collectFragmentReferences(e,n)})})(e,n),i[e.name.value]=n}}),e.exports=n,e.exports.UpdateCompany=function(e,n){var t={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,o=new Set;for(a.forEach(function(e){o.add(e)});o.size>0;){var d=o;o=new Set,d.forEach(function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(n){var i=findOperation(e,n);i&&t.definitions.push(i)}),t}(n,"UpdateCompany")},33502:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateHistoryDetail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateHistoryDetailInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updated"},name:{kind:"Name",value:"Resume_updateHistoryDetail"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"historyDetailId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"techList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:220}};n.loc.source={body:"mutation UpdateHistoryDetail($input: UpdateHistoryDetailInput!) {\n  updated: Resume_updateHistoryDetail(input: $input) {\n    historyDetailId\n    group\n    name\n    startDate\n    endDate\n    techList\n    description\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function findOperation(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}n.definitions.forEach(function(e){if(e.name){var n=new Set;(function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){collectFragmentReferences(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){collectFragmentReferences(e,n)}),e.definitions&&e.definitions.forEach(function(e){collectFragmentReferences(e,n)})})(e,n),i[e.name.value]=n}}),e.exports=n,e.exports.UpdateHistoryDetail=function(e,n){var t={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,o=new Set;for(a.forEach(function(e){o.add(e)});o.size>0;){var d=o;o=new Set,d.forEach(function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(n){var i=findOperation(e,n);i&&t.definitions.push(i)}),t}(n,"UpdateHistoryDetail")},62258:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateInfoInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updated"},name:{kind:"Name",value:"Resume_updateInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"github"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:120}};n.loc.source={body:"mutation UpdateInfo($input: UpdateInfoInput!) {\n  updated: Resume_updateInfo(input: $input) {\n    title\n    github\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function findOperation(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}n.definitions.forEach(function(e){if(e.name){var n=new Set;(function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){collectFragmentReferences(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){collectFragmentReferences(e,n)}),e.definitions&&e.definitions.forEach(function(e){collectFragmentReferences(e,n)})})(e,n),i[e.name.value]=n}}),e.exports=n,e.exports.UpdateInfo=function(e,n){var t={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,o=new Set;for(a.forEach(function(e){o.add(e)});o.size>0;){var d=o;o=new Set,d.forEach(function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(n){var i=findOperation(e,n);i&&t.definitions.push(i)}),t}(n,"UpdateInfo")},48845:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Resume"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"resume"},name:{kind:"Name",value:"Resume_get"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"github"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"history"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"companyId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"companyName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"src"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"website"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"careers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"groupName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"list"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"careerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"techList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:435}};n.loc.source={body:"query Resume {\n  resume: Resume_get {\n    title\n    github\n    history {\n      companyId\n      companyName\n      logo {\n        src\n        alt\n        width\n        height\n      }\n      startDate\n      endDate\n      website\n      description\n      careers {\n        groupName\n        list {\n          careerId\n          name\n          startDate\n          endDate\n          techList\n          description\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function findOperation(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}n.definitions.forEach(function(e){if(e.name){var n=new Set;(function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){collectFragmentReferences(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){collectFragmentReferences(e,n)}),e.definitions&&e.definitions.forEach(function(e){collectFragmentReferences(e,n)})})(e,n),i[e.name.value]=n}}),e.exports=n,e.exports.Resume=function(e,n){var t={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,o=new Set;for(a.forEach(function(e){o.add(e)});o.size>0;){var d=o;o=new Set,d.forEach(function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(n){var i=findOperation(e,n);i&&t.definitions.push(i)}),t}(n,"Resume")},81376:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetTechList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keyword"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"techList"},name:{kind:"Name",value:"TechList_get"},arguments:[{kind:"Argument",name:{kind:"Name",value:"keyword"},value:{kind:"Variable",name:{kind:"Name",value:"keyword"}}}],directives:[]}]}}],loc:{start:0,end:83}};n.loc.source={body:"query GetTechList($keyword: String) {\n  techList: TechList_get(keyword: $keyword)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function findOperation(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}n.definitions.forEach(function(e){if(e.name){var n=new Set;(function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){collectFragmentReferences(e,n)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){collectFragmentReferences(e,n)}),e.definitions&&e.definitions.forEach(function(e){collectFragmentReferences(e,n)})})(e,n),i[e.name.value]=n}}),e.exports=n,e.exports.GetTechList=function(e,n){var t={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var a=i[n]||new Set,r=new Set,o=new Set;for(a.forEach(function(e){o.add(e)});o.size>0;){var d=o;o=new Set,d.forEach(function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(n){var i=findOperation(e,n);i&&t.definitions.push(i)}),t}(n,"GetTechList")},52583:function(e,n,i){Promise.resolve().then(i.bind(i,23671))},23671:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return Admin}});var t=i(76225),a=i(33643),r=i(10449),o=i(19875),d=i(49854),l=i(86549),s=i(42937),u=i(81148),c=i(40156),m=i.n(c),f=i(44263),v=i.n(f),p=i(48845),k=i.n(p),h=i(94967),g=i(5493),x=i(34069),D=i(85008),b=i(89411),S=i(34928),N=i(37043),y=i(5383),F=i(82449),w=i(94207),j=i(99806),E=i(30757),Z=i(64566),C=i(549),I=i(25829),R=i(71826),O=i(45168),P=i(80528),T=i(65805),Y=i(65597),L=i(38291),M=i(33502),q=i.n(M),W=i(81376),U=i.n(W);function CareerItemForm(e){let{historyDetailId:n,groupName:i,name:d,startDate:l,endDate:s,techList:u,description:c}=e,f=(0,b.Z)(),p=(0,S.Z)(f.breakpoints.down("sm")),k=(0,h.q)(e=>e.isDarkMode),R=(0,h.q)(e=>e.setLoading),{openAlert:M}=(0,L.useAlert)(),{control:W,watch:_,setValue:A,resetField:G,handleSubmit:J}=(0,g.cI)({mode:"all",defaultValues:{groupName:i,name:d,isWorking:!s,startDate:l,endDate:{value:s||m()(),minDate:l},keyword:"",techList:u,description:c}}),{field:{value:z}}=(0,g.bc)({control:W,name:"isWorking"}),{field:{value:$,onChange:K}}=(0,g.bc)({control:W,name:"keyword"}),{field:{value:B,onChange:X}}=(0,g.bc)({control:W,name:"techList"}),{data:ee}=(0,r.a)(U(),{variables:{keyword:$}}),[en,{loading:ei}]=(0,x.D)(q(),{onCompleted(){M({open:!0,autoHideDuration:7e3,message:"이력서 회사 정보가 수정되었습니다."})},onError(e){M({open:!0,autoHideDuration:7e3,message:e.message})}}),et=(0,a.useMemo)(()=>$.length>0&&ee?ee.techList.filter(e=>!B.includes(e)).map((e,n)=>({key:"".concat(n),label:Y.H[e].label,value:e})):[],[ee,B,$]),ea=(0,a.useCallback)(e=>{en({variables:{input:{...v()(e,"groupName","isWorking","keyword","startDate","endDate"),historyDetailId:n,group:e.groupName,startDate:e.startDate.format("YYYY-MM"),endDate:e.endDate.value?e.endDate.value.format("YYYY-MM"):null}}})},[en,n]);return(0,a.useEffect)(()=>(_(["isWorking"]),_((e,n)=>{let{name:i}=n;"isWorking"===i&&A("endDate",e[i]?{value:void 0,minDate:e.startDate}:{value:m()(),minDate:e.startDate})}).unsubscribe),[A,_]),(0,a.useEffect)(()=>{R(ei)},[R,ei]),(0,t.jsx)("form",{onSubmit:J(ea),children:(0,t.jsxs)(V,{defaultExpanded:!0,children:[(0,t.jsx)(N.Z,{expandIcon:(0,t.jsx)(D.Z,{}),children:(0,t.jsxs)(o.ZP,{width:"100%",children:[(0,t.jsx)(T.xJ,{label:"GROUP",children:(0,t.jsx)(g.Qr,{control:W,name:"groupName",render:e=>{let{field:{value:n,onChange:i}}=e;return(0,t.jsx)(y.Z,{variant:"standard",fullWidth:!0,value:n||"",onChange:i,onClick:e=>{e.stopPropagation()}})}})}),(0,t.jsx)(T.xJ,{label:"프로젝트 제목",children:(0,t.jsx)(g.Qr,{control:W,name:"name",rules:{required:{value:!0,message:"프로젝트 제목은 필수입니다."}},render:e=>{let{field:{value:n,onChange:i},fieldState:{error:a}}=e;return(0,t.jsx)(y.Z,{variant:"standard",fullWidth:!0,error:!!a,helperText:null==a?void 0:a.message,value:n||"",onChange:i,onClick:e=>{e.stopPropagation()}})}})})]})}),(0,t.jsxs)(F.Z,{children:[(0,t.jsxs)(T.xJ,{label:"프로젝트 기간",children:[(0,t.jsxs)(o.ZP,{container:!0,flexDirection:"row",alignItems:"center",width:"fit-content",children:[(0,t.jsx)(w.Z,{fontSize:14,letterSpacing:-.3,children:"진행 중"}),(0,t.jsx)(g.Qr,{control:W,name:"isWorking",render:e=>{let{field:{value:n,onChange:i}}=e;return(0,t.jsx)(j.Z,{checked:n,onChange:i})}})]}),(0,t.jsx)(g.Qr,{control:W,name:"startDate",rules:{required:{value:!0,message:"시작 날짜는 필수입니다."}},render:e=>{let{field:{value:n,onChange:i},fieldState:{error:a}}=e;return(0,t.jsx)(O.M,{format:"YYYY-MM",openTo:"month",views:["year","month"],value:m()(n),onChange:i,slotProps:{textField:{error:!!a,helperText:null==a?void 0:a.message}}})}}),!z&&(0,t.jsxs)(t.Fragment,{children:["~",(0,t.jsx)(g.Qr,{control:W,name:"endDate",rules:{required:{value:!0,message:"종료 날짜는 필수입니다."}},render:e=>{let{field:{value:n,onChange:i},fieldState:{error:a}}=e;return(0,t.jsx)(O.M,{format:"YYYY-MM",openTo:"month",views:["year","month"],minDate:n.minDate,value:m()(n.value),onChange:e=>i({...n,value:e}),slotProps:{textField:{error:!!a,helperText:null==a?void 0:a.message}}})}})]})]}),(0,t.jsx)(T.xJ,{label:"사용 기술 (라이브러리, 프레임워크 등)",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.Z,{freeSolo:!0,sx:p?{width:"100%"}:{flex:1},options:et,onChange:(e,n)=>{n&&"string"!=typeof n&&!u.includes(n.value)&&K({target:{value:n.label}})},renderOption:(e,n)=>(0,a.createElement)(Z.ZP,{...e,key:n.key},n.label),renderInput:e=>(0,t.jsx)(H,{...e,variant:"standard",fullWidth:p,placeholder:"React",value:$||"",onChange:K,onKeyDown:e=>{if("Enter"===e.key){var n;e.preventDefault();let i=null===(n=et.find(e=>{let{label:n}=e;return n===$}))||void 0===n?void 0:n.value;i&&(console.log("techListOptions:",et),X([...B,i]),G("keyword"))}}})},"autoComplete"),(0,t.jsx)(o.ZP,{container:!0,gap:1,flexWrap:"wrap",children:B.map((e,n)=>(0,t.jsx)(C.Z,{label:Y.H[e].label,onDelete:()=>{X(B.filter(n=>n!==e))},onClick:()=>{X(B.filter(n=>n!==e))}},n))})]})}),(0,t.jsx)(T.xJ,{label:"설명",children:(0,t.jsx)(g.Qr,{control:W,name:"description",render:e=>{let{field:{value:n,onChange:i}}=e;return(0,t.jsx)(Q,{value:n,onChange:i,"data-color-mode":k?"dark":"light",children:(0,t.jsx)(P.ZP.Markdown,{source:n,style:{whiteSpace:"pre-line"}})})}})}),(0,t.jsx)(o.ZP,{container:!0,justifyContent:"flex-end",paddingTop:2,children:(0,t.jsx)(I.Z,{variant:"outlined",type:"submit",children:"Submit"})})]})]})})}i(37594),i(28750);let V=(0,l.ZP)(R.Z)(e=>{let{theme:n}=e;return{boxShadow:"0 0 10px 3px ".concat("light"===n.palette.mode?u.Z["300"]:u.Z.A700),transition:"background-color 0.3s ease",".Mui-focusVisible":{backgroundColor:"transparent"}}}),H=(0,l.ZP)(y.Z)(e=>{let{fullWidth:n}=e;return{display:"flex",flex:n?void 0:1}}),Q=(0,l.ZP)(P.ZP)(e=>({backgroundColor:"dark"===e["data-color-mode"]?"#131313":"#FFFFFF",width:"100%",minHeight:500,height:"100%",transition:"background-color 0.3s ease",".w-md-editor-toolbar, .wmde-markdown":{backgroundColor:"dark"===e["data-color-mode"]?"#131313":"#FFFFFF",transition:"background-color 0.3s ease"}}));var _=i(85728),A=i.n(_);function HistoryForm(e){let{companyId:n,companyName:i,startDate:r,endDate:d,website:l,description:s,children:u}=e,c=(0,b.Z)(),f=(0,S.Z)(c.breakpoints.down("sm")),p=(0,h.q)(e=>e.setLoading),{openAlert:k}=(0,L.useAlert)(),[D,{loading:N}]=(0,x.D)(A(),{onCompleted(){k({open:!0,autoHideDuration:7e3,message:"이력서 회사 정보가 수정되었습니다."})},onError(e){k({open:!0,autoHideDuration:7e3,message:e.message})}}),{control:F,watch:E,setValue:Z,handleSubmit:C}=(0,g.cI)({mode:"all",defaultValues:{companyName:i,isWorking:!d,startDate:r,endDate:{value:d,minDate:r},website:l||"",description:s||""}}),{field:{value:R}}=(0,g.bc)({name:"isWorking",control:F}),P=(0,a.useCallback)(e=>{D({variables:{input:{...v()(e,"isWorking"),companyId:n,startDate:e.startDate.format("YYYY-MM"),endDate:e.endDate.value?e.endDate.value.format("YYYY-MM"):null}}})},[D,n]);return(0,a.useEffect)(()=>(E(["isWorking","startDate"]),E((e,n)=>{let{name:i}=n;switch(i){case"isWorking":Z("endDate",e[i]?{value:void 0,minDate:e.startDate}:{value:m()(),minDate:e.startDate});break;case"startDate":e.endDate&&Z("endDate",{value:e.endDate.value,minDate:e[i]})}}).unsubscribe),[Z,E]),(0,a.useEffect)(()=>{p(N)},[p,N]),(0,t.jsxs)(o.ZP,{container:!0,flexDirection:"column",gap:1,children:[(0,t.jsxs)("form",{onSubmit:C(P),children:[(0,t.jsx)(T.xJ,{label:"회사명",children:(0,t.jsx)(g.Qr,{control:F,name:"companyName",rules:{required:{value:!0,message:"회사명은 필수입니다."}},render:e=>{let{field:n,fieldState:{error:i}}=e;return(0,t.jsx)(G,{variant:"standard",placeholder:"회사명을 입력해주세요.",error:!!i,helperText:null==i?void 0:i.message,...n})}})}),(0,t.jsxs)(T.xJ,{label:"재직기간",children:[(0,t.jsxs)(o.ZP,{container:!0,flexDirection:"row",alignItems:"center",width:"fit-content",children:[(0,t.jsx)(w.Z,{fontSize:14,letterSpacing:-.3,children:"재직 중"}),(0,t.jsx)(g.Qr,{control:F,name:"isWorking",rules:{required:!1},render:e=>{let{field:{value:n,onChange:i}}=e;return(0,t.jsx)(j.Z,{checked:n,onChange:i})}})]}),(0,t.jsx)(g.Qr,{control:F,name:"startDate",rules:{required:{value:!0,message:"입사월을 입력해주세요."}},render:e=>{let{field:{value:n,onChange:i},fieldState:{error:a}}=e;return(0,t.jsx)(O.M,{format:"YYYY.MM",openTo:"month",views:["year","month"],value:n,onChange:i,slotProps:{textField:{error:!!a,helperText:null==a?void 0:a.message}}})}}),!R&&(0,t.jsxs)(t.Fragment,{children:["~",(0,t.jsx)(g.Qr,{control:F,name:"endDate",rules:{required:{value:!0,message:"퇴사월을 입력해주세요."}},render:e=>{let{field:{value:n,onChange:i},fieldState:{error:a}}=e;return(0,t.jsx)(O.M,{format:"YYYY.MM",openTo:"month",views:["year","month"],minDate:null==n?void 0:n.minDate,value:null==n?void 0:n.value,onChange:e=>i({...n,value:e}),slotProps:{textField:{error:!!a,helperText:null==a?void 0:a.message}}})}})]})]}),(0,t.jsx)(T.xJ,{label:"회사 홈페이지 URL",children:(0,t.jsx)(g.Qr,{control:F,name:"website",render:e=>{let{field:n}=e;return(0,t.jsx)(J,{variant:"standard",placeholder:"회사 홈페이지 URL을 입력해주세요. (선택사항)",fullWidth:f,...n})}})}),(0,t.jsx)(T.xJ,{label:"설명",children:(0,t.jsx)(g.Qr,{control:F,name:"description",render:e=>{let{field:n}=e;return(0,t.jsx)(y.Z,{...n,placeholder:"회사에 대한 간단한 소개를 적어주세요.",multiline:!0,fullWidth:!0,minRows:4})}})}),(0,t.jsx)(o.ZP,{container:!0,justifyContent:"flex-end",paddingTop:2,children:(0,t.jsx)(I.Z,{variant:"outlined",type:"submit",children:"Submit"})})]}),u]})}let G=(0,l.ZP)(y.Z)({maxWidth:400,width:"100%"}),J=(0,l.ZP)(y.Z)(e=>{let{fullWidth:n}=e;return{flex:n?void 0:1}});var z=i(62258),$=i.n(z);function ResumeInfoForm(e){let{title:n,github:i}=e,r=(0,h.q)(e=>e.setLoading),{openAlert:d}=(0,L.useAlert)(),[l,{loading:s}]=(0,x.D)($(),{onCompleted(){d({open:!0,autoHideDuration:7e3,message:"이력서 기본 정보가 수정되었습니다."})},onError(e){d({open:!0,autoHideDuration:7e3,message:e.message})}}),{control:u,setValue:c,handleSubmit:m}=(0,g.cI)({mode:"onChange",defaultValues:{title:"",github:""}}),f=(0,a.useCallback)(e=>{l({variables:{input:e}})},[l]);return(0,a.useEffect)(()=>{c("title",n),c("github",i)},[c,n,i]),(0,a.useEffect)(()=>{r(s)},[r,s]),(0,t.jsxs)("form",{onSubmit:m(f),children:[(0,t.jsx)(T.xJ,{label:"제목",children:(0,t.jsx)(g.Qr,{control:u,name:"title",rules:{required:{value:!0,message:"제목은 필수입니다."}},render:e=>{let{field:n}=e;return(0,t.jsx)(y.Z,{variant:"standard",placeholder:"제목을 입력하세요.",fullWidth:!0,...n})}})}),(0,t.jsx)(T.xJ,{label:"Github",children:(0,t.jsx)(g.Qr,{control:u,name:"github",rules:{required:{value:!0,message:"Github 주소는 필수입니다."}},render:e=>{let{field:n}=e;return(0,t.jsx)(K,{variant:"standard",placeholder:"본인의 Github 주소를 입력하세요.",...n})}})}),(0,t.jsx)(o.ZP,{container:!0,justifyContent:"flex-end",paddingTop:2,children:(0,t.jsx)(I.Z,{variant:"outlined",type:"submit",children:"Submit"})})]})}let K=(0,l.ZP)(y.Z)({maxWidth:600,width:"100%"});function Admin(){let e=(0,h.q)(e=>e.setLoading),{data:n,loading:i}=(0,r.a)(k()),l=(0,a.useMemo)(()=>n?n.resume:null,[n]);return(0,a.useEffect)(()=>{e(i)},[e,i]),(0,t.jsxs)(o.ZP,{container:!0,flexDirection:"column",gap:4,maxWidth:1e3,children:[(0,t.jsx)(B,{children:(0,t.jsx)(ResumeInfoForm,{title:null==l?void 0:l.title,github:(null==l?void 0:l.github)||""})}),(0,t.jsx)(d.Z,{}),((null==l?void 0:l.history)||[]).map((e,n)=>(0,t.jsx)(B,{children:(0,t.jsxs)(HistoryForm,{companyId:e.companyId,companyName:e.companyName,startDate:m()(e.startDate),endDate:e.endDate?m()(e.endDate):void 0,website:e.website,description:e.description,children:[(0,t.jsx)(d.Z,{}),(0,t.jsx)(o.ZP,{container:!0,flexDirection:"column",gap:4,marginTop:3,children:e.careers.map((e,n)=>(0,t.jsx)(o.ZP,{container:!0,flexDirection:"column",gap:4,children:e.list.map((n,i)=>(0,t.jsx)(CareerItemForm,{historyDetailId:n.careerId,groupName:e.groupName,startDate:m()(n.startDate),endDate:n.endDate?m()(n.endDate):null,...v()(n,"__typename","startDate","endDate")},i))},n))})]})},n))]})}let B=(0,l.ZP)(s.Z)(e=>{let{theme:n}=e;return{boxShadow:"0 0 10px 3px ".concat("light"===n.palette.mode?u.Z["300"]:u.Z.A700),padding:20,transition:"background-color 0.3s ease"}})},38291:function(e,n,i){"use strict";i.r(n),i.d(n,{useAlert:function(){return useAlert}});var t=i(76225),a=i(33643),r=i(25372),o=i(68748),d=i(83836),l=i(81451),s=i(35299),u=i.n(s),c=i(21725);let{Provider:m,useContext:f}=(0,r.createProvider)(function(){var e,n,i,r;let[l,s]=(0,a.useState)(null),u=(0,a.useCallback)(e=>{s(e)},[]),c=(0,a.useCallback)((e,n)=>{"clickaway"!==n&&s(e=>({...e,open:!1}))},[]);return{snackbarProps:{...l,anchorOrigin:{vertical:null!==(i=null==l?void 0:null===(e=l.anchorOrigin)||void 0===e?void 0:e.vertical)&&void 0!==i?i:"top",horizontal:null!==(r=null==l?void 0:null===(n=l.anchorOrigin)||void 0===n?void 0:n.horizontal)&&void 0!==r?r:"center"},action:(0,t.jsxs)(t.Fragment,{children:[null==l?void 0:l.action,(0,t.jsx)(d.Z,{color:"inherit",onClick:c,children:(0,t.jsx)(o.Z,{})})]}),onClose:c},openAlert:u}});function useAlert(){return u()(f(),"openAlert")}n.default=(0,c.b)(m,function(e){let{children:n}=e,i=f("snackbarProps");return(0,t.jsxs)(t.Fragment,{children:[n,(0,t.jsx)(l.Z,{...i})]})})}},function(e){e.O(0,[584,875,863,596,894,346,648,817,954,895,805,123,17,744],function(){return e(e.s=52583)}),_N_E=e.O()}]);