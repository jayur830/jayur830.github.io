(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{8752:function(e,t,n){"use strict";var i=n(62897);t.Z=void 0,function(e,t){if((t||!e||!e.__esModule)&&null!==e&&("object"==typeof e||"function"==typeof e)){var n=_getRequireWildcardCache(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,n&&n.set(e,i)}}(n(33643));var r=i(n(37479)),a=n(76225);function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(e){return e?n:t})(e)}var o=(0,r.default)((0,a.jsx)("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub");t.Z=o},78578:function(e,t,n){"use strict";var i=n(62897);t.Z=void 0,function(e,t){if((t||!e||!e.__esModule)&&null!==e&&("object"==typeof e||"function"==typeof e)){var n=_getRequireWildcardCache(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}i.default=e,n&&n.set(e,i)}}(n(33643));var r=i(n(37479)),a=n(76225);function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(e){return e?n:t})(e)}var o=(0,r.default)((0,a.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");t.Z=o},78128:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var i=n(94304),r=n(2351),a=n(33643),o=n(98370),l=n(93682),c=n(89758),u=n(60097),s=n(90799),d=n(9669),p=n(9911),f=n(19956);function getTypographyUtilityClass(e){return(0,f.Z)("MuiTypography",e)}(0,p.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var h=n(76225);let g=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses=e=>{let{align:t,gutterBottom:n,noWrap:i,paragraph:r,variant:a,classes:o}=e,l={root:["root",a,"inherit"!==e.align&&`align${(0,d.Z)(t)}`,n&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return(0,c.Z)(l,getTypographyUtilityClass,o)},v=(0,u.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,d.Z)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>(0,r.Z)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),m={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=e=>y[e]||e,b=a.forwardRef(function(e,t){let n=(0,s.Z)({props:e,name:"MuiTypography"}),a=transformDeprecatedColors(n.color),c=(0,l.Z)((0,r.Z)({},n,{color:a})),{align:u="inherit",className:d,component:p,gutterBottom:f=!1,noWrap:y=!1,paragraph:b=!1,variant:k="body1",variantMapping:w=m}=c,x=(0,i.Z)(c,g),Z=(0,r.Z)({},c,{align:u,color:a,className:d,component:p,gutterBottom:f,noWrap:y,paragraph:b,variant:k,variantMapping:w}),C=p||(b?"p":w[k]||m[k])||"span",O=useUtilityClasses(Z);return(0,h.jsx)(v,(0,r.Z)({as:C,ref:t,ownerState:Z,className:(0,o.Z)(O.root,d)},x))});var k=b},95116:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SignIn"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signIn"},arguments:[{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isLogged"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:89}};t.loc.source={body:"mutation SignIn($email: String!) {\n  signIn(email: $email) {\n    email\n    isLogged\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function findOperation(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function collectFragmentReferences(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){collectFragmentReferences(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){collectFragmentReferences(e,t)}),e.definitions&&e.definitions.forEach(function(e){collectFragmentReferences(e,t)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.SignIn=function(e,t){var i={kind:e.kind,definitions:[findOperation(e,t)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=n[t]||new Set,a=new Set,o=new Set;for(r.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){a.has(e)||(a.add(e),(n[e]||new Set).forEach(function(e){o.add(e)}))})}return a.forEach(function(t){var n=findOperation(e,t);n&&i.definitions.push(n)}),i}(t,"SignIn")},40846:function(e,t,n){Promise.resolve().then(n.bind(n,89874))},89874:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Login}});var i=n(76225),r=n(33643),a=n(84054),o=n(40249),l=n(78128),c=n(60097),u=n(9937),s=n(2461),d=n(8895),p=n(76244),f=n(30251);let h={[f.n.Unauthorization]:"토큰이 필요합니다.",[f.n.InvalidToken]:"토큰이 올바른 형식이 아닙니다.",[f.n.NotAdministrator]:"관리자가 아닙니다.",[f.n.AuthorizationExpired]:"토큰이 만료되었습니다."};var g=n(38291),v=n(95116),m=n.n(v),y=n(52316),b=n(94967),k=n(8752),w=n(78578),x=n(26634);let Z=[{key:"github",icon:k.Z,label:"Github 로그인",buttonProps:{backgroundColor:d.Z["900"],textColor:"white"}},{key:"google",icon:w.Z,label:"Google 로그인",buttonProps:{backgroundColor:x.Z["700"],textColor:"white"}}];function Login(){let e=(0,a.useRouter)(),{auth:t}=(0,y.Z)(),{openAlert:n}=(0,g.useAlert)(),c=(0,b.q)(e=>e.setLoading),[u,{loading:s}]=(0,o.D)(m(),{onCompleted(t){t.signIn.isLogged&&e.push("/admin/resume")},onError(e){let{graphQLErrors:[i]}=e,r=i.extensions.code;r&&(n({open:!0,autoHideDuration:7e3,message:h[r]}),r===f.n.NotAdministrator&&(0,p.h8)(t.currentUser))}}),d=(0,r.useCallback)(async e=>{switch(e){case"github":{let e=new p.GH;try{let{user:n}=await (0,p.rh)(t,e);await u({variables:{email:n.email||""}})}catch(n){if("auth/account-exists-with-different-credential"===n.code)try{let{user:n}=await (0,p.k9)(t.currentUser,e);await u({variables:{email:n.email||""}})}catch(e){console.log(e)}}break}case"google":{let e=new p.hJ;try{let{user:n}=await (0,p.rh)(t,e);await u({variables:{email:n.email||""}})}catch(n){if("auth/account-exists-with-different-credential"===n.code)try{let{user:n}=await (0,p.k9)(t.currentUser,e);await u({variables:{email:n.email||""}})}catch(e){console.log(e)}}}}},[u,t]);return(0,r.useEffect)(()=>{c(s)},[c,s]),(0,i.jsx)(C,{children:(0,i.jsx)(O,{children:Z.map(e=>{let{key:t,icon:n,buttonProps:r,label:a}=e;return(0,i.jsxs)(S,{"background-color":r.backgroundColor,"text-color":r.textColor,onClick:()=>d(t),children:[(0,i.jsx)(n,{}),(0,i.jsx)(l.Z,{fontWeight:700,fontSize:16,width:"100%",children:a})]},t)})})})}let C=(0,c.ZP)(u.ZP)({display:"flex",justifyContent:"center",alignItems:"center",height:"100%",padding:20}),O=(0,c.ZP)(u.ZP)(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",gap:16,maxWidth:400,width:"100%",border:"1.5px solid ".concat(d.Z["400"]),borderRadius:20,padding:36,[t.breakpoints.down("sm")]:{gap:14,borderRadius:10,padding:20}}}),S=(0,c.ZP)(s.Z)(e=>{let{theme:t,...n}=e;return{justifyContent:"flex-start",gap:14,fontSize:24,backgroundColor:n["background-color"],color:n["text-color"],width:"100%",padding:"16px 24px",transition:"opacity 0.2s",":hover":{backgroundColor:n["background-color"],opacity:.5},[t.breakpoints.down("sm")]:{padding:"10px 14px",":hover":{opacity:1}}}})},78543:function(e,t,n){"use strict";n.d(t,{O:function(){return l},q:function(){return a}});var i=n(91147),r=n(76244);n(18692);let a={apiKey:"AIzaSyCH_h1GZqtXLx6JRdy5DeCPvxzW7KQHzfU",authDomain:"opentoyapp-88e10.firebaseapp.com",projectId:"opentoyapp-88e10",storageBucket:"opentoyapp-88e10.appspot.com",messagingSenderId:"877886816470",appId:"1:877886816470:web:1c3bc345664ac3a1e64977",measurementId:"G-EC1HBH7GDD"},o=(0,i.ZF)(a),l=(0,r.v0)(o)},38291:function(e,t,n){"use strict";n.r(t),n.d(t,{useAlert:function(){return useAlert}});var i=n(76225),r=n(33643),a=n(25372),o=n(68292),l=n(35996),c=n(2554),u=n(35299),s=n.n(u),d=n(21725);let{Provider:p,useContext:f}=(0,a.createProvider)(function(){var e,t,n,a;let[c,u]=(0,r.useState)(null),s=(0,r.useCallback)(e=>{u(e)},[]),d=(0,r.useCallback)((e,t)=>{"clickaway"!==t&&u(e=>({...e,open:!1}))},[]);return{snackbarProps:{...c,anchorOrigin:{vertical:null!==(n=null==c?void 0:null===(e=c.anchorOrigin)||void 0===e?void 0:e.vertical)&&void 0!==n?n:"top",horizontal:null!==(a=null==c?void 0:null===(t=c.anchorOrigin)||void 0===t?void 0:t.horizontal)&&void 0!==a?a:"center"},action:(0,i.jsxs)(i.Fragment,{children:[null==c?void 0:c.action,(0,i.jsx)(l.Z,{color:"inherit",onClick:d,children:(0,i.jsx)(o.Z,{})})]}),onClose:d},openAlert:s}});function useAlert(){return s()(f(),"openAlert")}t.default=(0,d.b)(p,function(e){let{children:t}=e,n=f("snackbarProps");return(0,i.jsxs)(i.Fragment,{children:[t,(0,i.jsx)(c.Z,{...n})]})})},30251:function(e,t,n){"use strict";var i,r;n.d(t,{n:function(){return i}}),(r=i||(i={})).Unauthorization="UNAUTHORIZATION",r.InvalidToken="INVALID_TOKEN",r.NotAdministrator="NOT_ADMINISTRATOR",r.AuthorizationExpired="AUTHORIZATION_EXPIRED"},52316:function(e,t,n){"use strict";n.d(t,{Z:function(){return useFirebase}});var i=n(91147),r=n(76244),a=n(78543);function useFirebase(){let e=(0,i.C6)().length?(0,i.Mq)():(0,i.ZF)(a.q);return{auth:(0,r.v0)(e)}}},94967:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var i=n(21725);let r=(0,i.e)(e=>({isDarkMode:!1,setDarkMode(){e(e=>({isDarkMode:!e.isDarkMode}))},loading:!1,setLoading(t){e(()=>({loading:t}))}}),{name:"common",whitelist:["isDarkMode"]})},21725:function(e,t,n){"use strict";n.d(t,{e:function(){return createState},b:function(){return utils_nest}});var i=n(81983),r=n(33162),a=n(60986);function createState(e,t){return(0,i.Ue)((0,r.mW)((0,r.tJ)((0,a.n)(e),{name:(null==t?void 0:t.name)||e.name,partialize:e=>(null==t?void 0:t.whitelist)?Object.entries(e).reduce((e,n)=>{let[i,r]=n;return((null==t?void 0:t.whitelist)||[]).includes(i)||"function"==typeof r?{...e,[i]:r}:e},{}):(null==t?void 0:t.blacklist)?Object.entries(e).reduce((e,n)=>{let[i,r]=n;return((null==t?void 0:t.blacklist)||[]).includes(i)&&"function"!=typeof r?e:{...e,[i]:r}},{}):e})))}var o=n(33643),utils_nest=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduceRight((t,n)=>(0,o.createElement)(n,e,t),e.children)}},84054:function(e,t,n){e.exports=n(15621)},7101:function(e,t,n){"use strict";n.d(t,{x:function(){return useApolloClient}});var i=n(7425),r=n(33643),a=n(28225);function useApolloClient(e){var t=r.useContext((0,a.K)()),n=e||t.client;return(0,i.kG)(!!n,49),n}},70914:function(e,t,n){"use strict";n.d(t,{Vp:function(){return verifyDocumentType},n_:function(){return r}});var i,r,a=n(7425);(i=r||(r={}))[i.Query=0]="Query",i[i.Mutation=1]="Mutation",i[i.Subscription=2]="Subscription";var o=new Map;function operationName(e){var t;switch(e){case r.Query:t="Query";break;case r.Mutation:t="Mutation";break;case r.Subscription:t="Subscription"}return t}function verifyDocumentType(e,t){var n=function(e){var t,n,i=o.get(e);if(i)return i;(0,a.kG)(!!e&&!!e.kind,59,e);for(var l=[],c=[],u=[],s=[],d=0,p=e.definitions;d<p.length;d++){var f=p[d];if("FragmentDefinition"===f.kind){l.push(f);continue}if("OperationDefinition"===f.kind)switch(f.operation){case"query":c.push(f);break;case"mutation":u.push(f);break;case"subscription":s.push(f)}}(0,a.kG)(!l.length||c.length||u.length||s.length,60),(0,a.kG)(c.length+u.length+s.length<=1,61,e,c.length,s.length,u.length),n=c.length?r.Query:r.Mutation,c.length||u.length||(n=r.Subscription);var h=c.length?c:u.length?u:s;(0,a.kG)(1===h.length,62,e,h.length);var g=h[0];t=g.variableDefinitions||[];var v={name:g.name&&"Name"===g.name.kind?g.name.value:"data",type:n,variables:t};return o.set(e,v),v}(e),i=operationName(t),l=operationName(n.type);(0,a.kG)(n.type===t,63,i,i,l)}}},function(e){e.O(0,[617,856,937,884,950,609,299,336,466,123,17,744],function(){return e(e.s=40846)}),_N_E=e.O()}]);